<!doctype html>













































<html
  class="not-ready lg:text-base"
  style="--bg: #fbfbfb"
  lang="en"
  dir="ltr"
>
  <head><script src="/livereload.js?mindelay=10&amp;v=2&amp;port=1313&amp;path=livereload" data-no-instant defer></script>
  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <meta
    name="viewport"
    content="width=device-width, initial-scale=1, shrink-to-fit=no"
  />

  
  <title>Belajar : Heap dan Stack - Home</title>

  
  <meta name="theme-color" />

  
  
  
  
  <meta name="description" content="edi ermawan, http://offground.wordpress.com
&mdash;&mdash;&mdash; May 15, 2010 &mdash;&mdash;&ndash;
Ketika suatu program berjalan, processor (– atau lebih tepatnya 80x86 ? &ndash;) mengalokasikan memory untuk program tersebut di RAM, yang terbagi menjadi empat bagian yaitu Code Segment (CS), Stack Segment (SS), Data Segment (DS), dan Extra Segment (ES).


Code Segment menyimpan semua kode dan instruksi-instruksi processor yang digunakan oleh program tersebut. Semua data di memori ini bersifat read-only.
Stack Segment teralokasi untuk berbagai keperluan, seperti menyimpan return address dari pemanggilan fungsi, menyimpan parameter-parameter yang dilewatkan ke fungsi, menyimpan variabel lokal di dalam fungsi, dll. Penambahan dan pengurangan memory stack menggunakan metode last in first out (LIFO). Misalnya, saat suatu fungsi dipanggil, seketika itu variabel lokal di dalam fungsi tersebut dialokasikan di stack (push), dan ketika fungsi sudah berakhir, variabel lokal di-dealokasikan (pop).  Walaupun proses LIFO di stack terjadi otomatis, di stack bisa terjadi overflow, atau yang disebut stack overflow. Stack overflow terjadi misalnya ketika terjadi pemanggilan recursive tak berujung (infinite recursive). Contoh:" />
  <meta name="author" content="oth3rside" />
  

  
  
  
  
  
  
  <link rel="preload stylesheet" as="style" href="http://localhost:1313/main.min.css" />

  
  
  
  
  
  <link rel="preload" as="image" href="http://localhost:1313/theme.png" />

  
  
  
  
  <link rel="preload" as="image" href="https://www.gravatar.com/avatar/874371989962b8461ad94e8119d82bc7?s=160&amp;d=identicon" />
  
  

  
  
  <link rel="preload" as="image" href="http://localhost:1313/twitter.svg" />
  
  <link rel="preload" as="image" href="http://localhost:1313/github.svg" />
  
  <link rel="preload" as="image" href="http://localhost:1313/instagram.svg" />
  
  

  
  
  <script
    defer
    src="http://localhost:1313/highlight.min.js"
    onload="hljs.initHighlightingOnLoad();"
  ></script>
  

  
  
  

  
  <link
    rel="icon"
    href="http://localhost:1313/favicon.ico"
  />
  <link
    rel="apple-touch-icon"
    href="http://localhost:1313/apple-touch-icon.png"
  />

  
  <meta name="generator" content="Hugo 0.136.5">

  
  
  
</head>

  <body class="text-black duration-200 ease-out dark:text-white">
    <header class="mx-auto flex h-[4.5rem] max-w-[--w] px-8 lg:justify-center">
  <div class="relative z-50 ltr:mr-auto rtl:ml-auto flex items-center">
    <a class="-translate-y-[1px] text-2xl font-medium" href="http://localhost:1313/"
      >Home</a
    >
    <div
      class="btn-dark text-[0] ltr:ml-4 rtl:mr-4 h-6 w-6 shrink-0 cursor-pointer [background:url(./theme.png)_left_center/_auto_theme('spacing.6')_no-repeat] [transition:_background-position_0.4s_steps(5)] dark:[background-position:right]"
      role="button"
      aria-label="Dark"
    ></div>
  </div>

  <div
    class="btn-menu relative z-50 ltr:-mr-8 rtl:-ml-8 flex h-[4.5rem] w-[5rem] shrink-0 cursor-pointer flex-col items-center justify-center gap-2.5 lg:hidden"
    role="button"
    aria-label="Menu"
  ></div>

  

  <script>
    
    const htmlClass = document.documentElement.classList;
    setTimeout(() => {
      htmlClass.remove('not-ready');
    }, 10);

    
    const btnMenu = document.querySelector('.btn-menu');
    btnMenu.addEventListener('click', () => {
      htmlClass.toggle('open');
    });

    
    const metaTheme = document.querySelector('meta[name="theme-color"]');
    const lightBg = '#fbfbfb'.replace(/"/g, '');
    const setDark = (isDark) => {
      metaTheme.setAttribute('content', isDark ? '#000' : lightBg);
      htmlClass[isDark ? 'add' : 'remove']('dark');
      localStorage.setItem('dark', isDark);
    };

    
    const darkScheme = window.matchMedia('(prefers-color-scheme: dark)');
    if (htmlClass.contains('dark')) {
      setDark(true);
    } else {
      const darkVal = localStorage.getItem('dark');
      setDark(darkVal ? darkVal === 'true' : darkScheme.matches);
    }

    
    darkScheme.addEventListener('change', (event) => {
      setDark(event.matches);
    });

    
    const btnDark = document.querySelector('.btn-dark');
    btnDark.addEventListener('click', () => {
      setDark(localStorage.getItem('dark') !== 'true');
    });
  </script>

  <div
    class="nav-wrapper fixed inset-x-0 top-full z-40 flex h-full select-none flex-col justify-center pb-16 duration-200 dark:bg-black lg:static lg:h-auto lg:flex-row lg:!bg-transparent lg:pb-0 lg:transition-none"
  >
    
    
    <nav class="lg:ml-12 lg:flex lg:flex-row lg:items-center lg:space-x-10 rtl:space-x-reverse">
      
      <a
        class="block text-center text-xl leading-[5rem] lg:text-base lg:font-normal"
        href="/about/"
        >About</a
      >
      
      <a
        class="block text-center text-xl leading-[5rem] lg:text-base lg:font-normal"
        href="/contact/"
        >Contact</a
      >
      
    </nav>
    

    
    <nav
      class="mt-12 flex justify-center space-x-10 rtl:space-x-reverse dark:invert ltr:lg:ml-14 rtl:lg:mr-14 lg:mt-0 lg:items-center"
    >
      
      <a
        class="h-7 w-7 text-[0] [background:var(--url)_center_center/cover_no-repeat] lg:h-6 lg:w-6"
        style="--url: url(./twitter.svg)"
        href="https://twitter.com/XediXermawan"
        target="_blank"
        rel="me"
      >
        twitter
      </a>
      
      <a
        class="h-7 w-7 text-[0] [background:var(--url)_center_center/cover_no-repeat] lg:h-6 lg:w-6"
        style="--url: url(./github.svg)"
        href="https://github.com/XediXermawan"
        target="_blank"
        rel="me"
      >
        github
      </a>
      
      <a
        class="h-7 w-7 text-[0] [background:var(--url)_center_center/cover_no-repeat] lg:h-6 lg:w-6"
        style="--url: url(./instagram.svg)"
        href="https://instagram.com/XediXermawan"
        target="_blank"
        rel="me"
      >
        instagram
      </a>
      
    </nav>
    
  </div>
</header>


    <main
      class="prose prose-neutral relative mx-auto min-h-[calc(100%-9rem)] max-w-[--w] px-8 pb-16 pt-14 dark:prose-invert"
    >
      

<article>
  <header class="mb-14">
    <h1 class="!my-0 pb-2.5">Belajar : Heap dan Stack</h1>

    
    <div class="text-xs antialiased opacity-60">
      
      <time>May 15, 2010</time>
      
      
      
      
      <span class="mx-1">&middot;</span>
      <span>oth3rside</span>
      
    </div>
    
  </header>

  <section><p>edi ermawan, <a href="http://offground.wordpress.com">http://offground.wordpress.com</a></p>
<p>&mdash;&mdash;&mdash; May 15, 2010 &mdash;&mdash;&ndash;
Ketika suatu program berjalan, processor (– atau lebih tepatnya 80x86 ? &ndash;) mengalokasikan memory untuk program tersebut di RAM, yang terbagi menjadi empat bagian yaitu Code Segment (CS), Stack Segment (SS), Data Segment (DS), dan Extra Segment (ES).</p>
<p><a href="http://offground.files.wordpress.com/2010/05/stack_head_offgnd.png"><img src="http://offground.files.wordpress.com/2010/05/stack_head_offgnd.png?w=300" alt="">
</a></p>
<p>Code Segment menyimpan semua kode dan instruksi-instruksi processor yang digunakan oleh program tersebut. Semua data di memori ini bersifat read-only.</p>
<p>Stack Segment teralokasi untuk berbagai keperluan, seperti menyimpan return address dari pemanggilan fungsi, menyimpan parameter-parameter yang dilewatkan ke fungsi, menyimpan variabel lokal di dalam fungsi, dll. Penambahan dan pengurangan memory stack menggunakan metode last in first out (LIFO). Misalnya, saat suatu fungsi dipanggil, seketika itu variabel lokal di dalam fungsi tersebut dialokasikan di stack (push), dan ketika fungsi sudah berakhir, variabel lokal di-dealokasikan (pop).  Walaupun proses LIFO di stack terjadi otomatis, di stack bisa terjadi overflow, atau yang disebut stack overflow. Stack overflow terjadi misalnya ketika terjadi pemanggilan recursive tak berujung (infinite recursive). Contoh:</p>
<p>[sourcecode language=&ldquo;cpp&rdquo;]
void functionA
{
int A[1000];
funtionA;
}
[/sourcecode]</p>
<p>Data Segment terbagi menjadi 3 bagian yaitu Data, BSS dan Heap. Namun di beberapa literatur, data segment disebut juga heap, ini perlu diketahui agar tidak membingungkan.</p>
<h1 id="data-berisi-variabel-variabel-program-yang-langsung-diisi-saat-deklarasi-misalnya">Data berisi variabel-variabel program yang langsung diisi saat deklarasi, misalnya:</h1>
<p>[sourcecode language=&ldquo;cpp&rdquo;]
int i=10;
char *str=&lsquo;isi string&rsquo;;
[/sourcecode]</p>
<h1 id="bss-berisi-variabel-global-dan-variabel-static-yang-tidak-terinisialisasi-misal">BSS berisi variabel global dan variabel static yang tidak terinisialisasi. Misal:</h1>
<p>[sourcecode language=&ldquo;cpp&rdquo;]
int I;
char *str;
[/sourcecode]</p>
<h1 id="heap-adalah-bagian-memori-yang-dapat-dialokasikan-secara-dinamis-misalnya-di-cc-menggunakan-malloc-new-dan-juga-dapat-di-dealokasikan-namun-seandainya-suatu-memori-yang-teralokasi-dan-tidak-di-dealokasi-secara-manual-melalui-baris-program-maka-memori-yang-teralokasi-tersebut-akan-tetap-terjaga-sampai-program-tersebut-ditutup-kesimpulannya-pembuat-program-lah-yang-bertanggung-jawab-dengan-apa-yang-terjadi-di-heap-kesimpulan-lainnya-jika-di-stack-saja-bisa-terjadi-overflow-maka-di-heap-lebih-mungkin-lagi-terutama-untuk-bahasa-pemrograman-yang-tidak-memiliki-garbage-collector-seperti-cc-delphi-dll">Heap adalah bagian memori yang dapat dialokasikan secara dinamis, misalnya di C/C++  menggunakan malloc, new, dan juga dapat di-dealokasikan. Namun seandainya, suatu memori yang teralokasi dan tidak di-dealokasi secara manual  (melalui baris program), maka memori yang teralokasi tersebut akan tetap terjaga sampai program tersebut ditutup. Kesimpulannya, pembuat program-lah yang bertanggung jawab dengan apa yang terjadi di heap. Kesimpulan lainnya, jika di stack saja bisa terjadi overflow, maka di heap lebih mungkin lagi. Terutama untuk  bahasa pemrograman yang tidak memiliki garbage collector seperti C/C++, Delphi dll.</h1>
<p>Dalam sebuah aplikasi, buffer overflow (stack atau heap overflow) atau aplikasi yang dapat di buffer overflow , bisa membuat aplikasi tersebut crash dan tidak aman. (will be continued). :)</p>
<p>&mdash;&mdash;&mdash; Nov 11, 2012 Updated&mdash;&mdash;&ndash; </p>
<p>Di setiap program komputer yang berjalan, stack dialokasi di setiap thread. Jadi suatu aplikasi men-sharing heap yang sama, dan setiap thread memiliki stack-nya sendiri-sendiri. Kapan stack di-alokasikan? : saat setiap kali thread dibuat dan besarnya terbatas tergantung OS yang digunakan. di Ms-Windows ,<a href="http://msdn.microsoft.com/en-us/library/8cxs58a6.aspx"> nilai default 1MB</a> , Linux  mungkin berbeda. Jadi bisa di gambarkan sebagai bagian memory yang besarnya 1 MB dan kontinyu. Namun, walaupun besar total 1 MB, lokal variabel di setiap fungsi dibatasi sampai <a href="http://msdn.microsoft.com/en-us/library/ms648426(VS.85).aspx">4KB saja (untuk x86) , 8KB untuk (x64)</a>. jika lebih, programmu akan crash di _chkstk() jika pakai Microsoft compiler [saya pernah mengalami]  .</p>
<p>heap dan stack dialokasikan di RAM, tapi kenapa penggunaan stack lebih cepat dibanding heap? . karena stack pre-allocated dan untuk mengaksesnya tidak perlu menggunakan sebuah list atau variable pointer, tapi menggunakan register CPU : EBP dan ESP  . Register EBP dan ESP berperan saat pemanggilan fungsi (<a href="http://www.tenouk.com/Bufferoverflowc/Bufferoverflow3.html">baca disini</a>) .</p>
</section>

  
  

  
  
  
  
  <nav
    class="mt-24 flex overflow-hidden rounded-xl bg-black/[3%] text-lg !leading-[1.2] *:flex *:w-1/2 *:items-center *:p-5 *:font-medium *:no-underline dark:bg-white/[8%] [&>*:hover]:bg-black/[2%] dark:[&>*:hover]:bg-white/[3%]"
  >
    
    <a class="ltr:pr-3 rtl:pl-3" href="http://localhost:1313/2010/05/15/215/"
      ><span class="ltr:mr-1.5 rtl:ml-1.5">←</span><span>Integrasi Qt ke Ms Visual C&#43;&#43; 2008 Express</span></a
    >
    
    
    <a class="ltr:ml-auto rtl:mr-auto justify-end pl-3" href="http://localhost:1313/2009/09/02/shifting-puzzle/"
      ><span>Shifting Puzzle</span><span class="ltr:ml-1.5 rtl:mr-1.5">→</span></a
    >
    
  </nav>
  
  

  
  

  
  

  


  
</article>


    </main>

    <footer
  class="mx-auto flex h-[4.5rem] max-w-[--w] items-center px-8 text-xs uppercase tracking-wider opacity-60"
>
  <div class="mr-auto">
  
    © 2007-2024 XediXermawan
  
  </div>
  <a class="link mx-6" href="https://gohugo.io/" rel="noopener" target="_blank"
    >powered by hugo️️</a
  >️
  <a
    class="link"
    href="https://github.com/nanxiaobei/hugo-paper"
    rel="noopener"
    target="_blank"
    >hugo-paper</a
  >
</footer>

  </body>
</html>
