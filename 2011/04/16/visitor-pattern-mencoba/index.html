<!doctype html>













































<html
  class="not-ready lg:text-base"
  style="--bg: #fbfbfb"
  lang="en"
  dir="ltr"
>
  <head><script src="/livereload.js?mindelay=10&amp;v=2&amp;port=1313&amp;path=livereload" data-no-instant defer></script>
  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <meta
    name="viewport"
    content="width=device-width, initial-scale=1, shrink-to-fit=no"
  />

  
  <title>Mencoba Visitor Pattern.  - Home</title>

  
  <meta name="theme-color" />

  
  
  
  
  <meta name="description" content="Visitor, pengunjung. Visitor pattern menggunakan prisip open/close dalam desain sebuah program. Pattern ini memisahkan &ldquo;sebuah operasi -tindakan/algoritma&rdquo; dari objek. Terdapat dua objek: Visitor dan Objek yang bisa dikunjungi (visitable objek). Kelihatannya Pattern ini mirip dengan strategi pattern: memisahkan algoritma dari kelas menjadi kelas yang lain. Namun Visitor Pattern dan strategi pattern berbeda.
Strategy pattern
AlgoritmaX adalah abstract class. punya method Count()
AlgoritmaX1 turunan AlgoritmaX. AlgoritmaX1 mengimplementasikan method Count() dengan algoritma tertentu" />
  <meta name="author" content="oth3rside" />
  

  
  
  
  
  
  
  <link rel="preload stylesheet" as="style" href="https://xedixermawan.github.io/main.min.css" />

  
  
  
  
  
  <link rel="preload" as="image" href="https://xedixermawan.github.io/theme.png" />

  
  
  
  
  <link rel="preload" as="image" href="https://www.gravatar.com/avatar/874371989962b8461ad94e8119d82bc7?s=160&amp;d=identicon" />
  
  

  
  
  <link rel="preload" as="image" href="https://xedixermawan.github.io/twitter.svg" />
  
  <link rel="preload" as="image" href="https://xedixermawan.github.io/github.svg" />
  
  <link rel="preload" as="image" href="https://xedixermawan.github.io/instagram.svg" />
  
  

  
  
  <script
    defer
    src="https://xedixermawan.github.io/highlight.min.js"
    onload="hljs.initHighlightingOnLoad();"
  ></script>
  

  
  
  

  
  <link
    rel="icon"
    href="https://xedixermawan.github.io/favicon.ico"
  />
  <link
    rel="apple-touch-icon"
    href="https://xedixermawan.github.io/apple-touch-icon.png"
  />

  
  <meta name="generator" content="Hugo 0.136.5">

  
  
  
</head>

  <body class="text-black duration-200 ease-out dark:text-white">
    <header class="mx-auto flex h-[4.5rem] max-w-[--w] px-8 lg:justify-center">
  <div class="relative z-50 ltr:mr-auto rtl:ml-auto flex items-center">
    <a class="-translate-y-[1px] text-2xl font-medium" href="https://xedixermawan.github.io/"
      >Home</a
    >
    <div
      class="btn-dark text-[0] ltr:ml-4 rtl:mr-4 h-6 w-6 shrink-0 cursor-pointer [background:url(./theme.png)_left_center/_auto_theme('spacing.6')_no-repeat] [transition:_background-position_0.4s_steps(5)] dark:[background-position:right]"
      role="button"
      aria-label="Dark"
    ></div>
  </div>

  <div
    class="btn-menu relative z-50 ltr:-mr-8 rtl:-ml-8 flex h-[4.5rem] w-[5rem] shrink-0 cursor-pointer flex-col items-center justify-center gap-2.5 lg:hidden"
    role="button"
    aria-label="Menu"
  ></div>

  

  <script>
    
    const htmlClass = document.documentElement.classList;
    setTimeout(() => {
      htmlClass.remove('not-ready');
    }, 10);

    
    const btnMenu = document.querySelector('.btn-menu');
    btnMenu.addEventListener('click', () => {
      htmlClass.toggle('open');
    });

    
    const metaTheme = document.querySelector('meta[name="theme-color"]');
    const lightBg = '#fbfbfb'.replace(/"/g, '');
    const setDark = (isDark) => {
      metaTheme.setAttribute('content', isDark ? '#000' : lightBg);
      htmlClass[isDark ? 'add' : 'remove']('dark');
      localStorage.setItem('dark', isDark);
    };

    
    const darkScheme = window.matchMedia('(prefers-color-scheme: dark)');
    if (htmlClass.contains('dark')) {
      setDark(true);
    } else {
      const darkVal = localStorage.getItem('dark');
      setDark(darkVal ? darkVal === 'true' : darkScheme.matches);
    }

    
    darkScheme.addEventListener('change', (event) => {
      setDark(event.matches);
    });

    
    const btnDark = document.querySelector('.btn-dark');
    btnDark.addEventListener('click', () => {
      setDark(localStorage.getItem('dark') !== 'true');
    });
  </script>

  <div
    class="nav-wrapper fixed inset-x-0 top-full z-40 flex h-full select-none flex-col justify-center pb-16 duration-200 dark:bg-black lg:static lg:h-auto lg:flex-row lg:!bg-transparent lg:pb-0 lg:transition-none"
  >
    
    
    <nav class="lg:ml-12 lg:flex lg:flex-row lg:items-center lg:space-x-10 rtl:space-x-reverse">
      
      <a
        class="block text-center text-xl leading-[5rem] lg:text-base lg:font-normal"
        href="/about/"
        >About</a
      >
      
      <a
        class="block text-center text-xl leading-[5rem] lg:text-base lg:font-normal"
        href="/contact/"
        >Contact</a
      >
      
    </nav>
    

    
    <nav
      class="mt-12 flex justify-center space-x-10 rtl:space-x-reverse dark:invert ltr:lg:ml-14 rtl:lg:mr-14 lg:mt-0 lg:items-center"
    >
      
      <a
        class="h-7 w-7 text-[0] [background:var(--url)_center_center/cover_no-repeat] lg:h-6 lg:w-6"
        style="--url: url(./twitter.svg)"
        href="https://twitter.com/XediXermawan"
        target="_blank"
        rel="me"
      >
        twitter
      </a>
      
      <a
        class="h-7 w-7 text-[0] [background:var(--url)_center_center/cover_no-repeat] lg:h-6 lg:w-6"
        style="--url: url(./github.svg)"
        href="https://github.com/XediXermawan"
        target="_blank"
        rel="me"
      >
        github
      </a>
      
      <a
        class="h-7 w-7 text-[0] [background:var(--url)_center_center/cover_no-repeat] lg:h-6 lg:w-6"
        style="--url: url(./instagram.svg)"
        href="https://instagram.com/XediXermawan"
        target="_blank"
        rel="me"
      >
        instagram
      </a>
      
    </nav>
    
  </div>
</header>


    <main
      class="prose prose-neutral relative mx-auto min-h-[calc(100%-9rem)] max-w-[--w] px-8 pb-16 pt-14 dark:prose-invert"
    >
      

<article>
  <header class="mb-14">
    <h1 class="!my-0 pb-2.5">Mencoba Visitor Pattern. </h1>

    
    <div class="text-xs antialiased opacity-60">
      
      <time>Apr 16, 2011</time>
      
      
      
      
      <span class="mx-1">&middot;</span>
      <span>oth3rside</span>
      
    </div>
    
  </header>

  <section><p>Visitor, pengunjung. Visitor pattern menggunakan prisip open/close dalam desain sebuah program. Pattern ini memisahkan &ldquo;sebuah operasi -tindakan/algoritma&rdquo; dari objek. Terdapat dua objek: Visitor dan Objek yang bisa dikunjungi (visitable objek). Kelihatannya Pattern ini mirip dengan strategi pattern: memisahkan algoritma dari kelas menjadi kelas yang lain. Namun Visitor Pattern dan strategi pattern berbeda.</p>
<p><strong>Strategy pattern</strong></p>
<p>AlgoritmaX adalah abstract class. punya method Count()</p>
<p>AlgoritmaX1 turunan AlgoritmaX. AlgoritmaX1 mengimplementasikan method Count() dengan algoritma tertentu</p>
<p>AlgoritmaX2 turunan AlgoritmaX. AlgoritmaX2 mengimplementasikan method Count() dengan algoritma tertentu</p>
<p>AlgoritmaX3 turunan AlgoritmaX. AlgoritmaX3 mengimplementasikan method Count() dengan algoritma tertentu</p>
<p>objek A punya algoritmaX1.</p>
<p>objek B punya algoritmaX2.</p>
<p>objek C punya algoritmaX3.</p>
<p>Baik A,B,C memangggil Count(). pemanggilannya sama , namun menggunakan algoritma berbeda. Jadi dengan menggunakan strategy pattern, Count() di implementasikan secara berbeda. Dan kelas pengguna algoritma (dalam hal ini : objek A, objek B, objek C) bisa melakukan pergantian algoritma secara mudah (karena dipisah).</p>
<p><strong>Visitor Pattern</strong></p>
<p>Visitor adalah abstract class.memiliki beberapa method Visit(). Misal Visit(objectA* ), Visit(objectB*)</p>
<p>Visitable adalah abstract class. memiliki method Accept(visitor).</p>
<p>Concrete Visitor turunan visitor yang mengimplementasikan method Visit()</p>
<p>Concrete Visitable turunan Visitable yang mengimplementasikan method Accept()</p>
<p>Bagaimana bekerjanya: setiap Accept() melewatkan object visitor, di dalam method Accept() : method Visit() di panggil dan melewatkan instan objek yang memiliki method accept() tadi. Contoh code dibawah ini cukup mewakili kata-kata ga jelas saya :p .</p>
<p>[sourcecode language=&ldquo;cpp&rdquo;]
#include <iostream>
#include <string></p>
<p>using namespace std;</p>
<p>class visitor;</p>
<p>/* visitable object, abstract class */
class VisitableObject
{
public:
virtual void accept(visitor&amp; v) = 0;
};</p>
<p>/* object A*/
class ObjectA :public VisitableObject
{
public:
ObjectA()
:mID(0),
mName(&ldquo;defaultName&rdquo;)
{
}
string getName()
{
return mName;
}
int getId()
{
return mID;
}
virtual void accept(visitor&amp; v);</p>
<p>private:
int mID;
string mName;
};</p>
<p>/* object B */
class ObjectB: public ObjectA
{
public:
ObjectB():ObjectA()
{
}
void accept(visitor&amp; v);
};</p>
<p>/* object C */
class ObjectC: public ObjectA
{
public:
ObjectC():ObjectA()
{
}
void accept(visitor&amp; v);
};</p>
<p>/* pure abstract class <em>/
class visitor
{
public:
virtual void visit(ObjectA</em> a)=0;
virtual void visit(ObjectB* b)=0;
virtual void visit(ObjectC* c)=0;
};</p>
<p>//implementation. should be here.(below visitor class declaration)
void ObjectA::accept(visitor&amp; v)
{
v.visit(this);
}
//implementation. should be here.(below visitor class declaration)
void ObjectB::accept(visitor&amp; v)
{
v.visit(this);
}
//implementation. should be here.(below visitor class declaration)
void ObjectC::accept(visitor&amp; v)
{
v.visit(this);
}</p>
<p>/* visitor that implement printing <em>/
class printVisitor:public visitor
{
public:
void visit(ObjectA</em> a)
{
cout&laquo;&ldquo;Name A: &ldquo;&laquo;a-&gt;getName()&laquo;endl;
cout&laquo;&ldquo;ID A: &ldquo;&laquo;a-&gt;getId()&laquo;endl;
}
void visit(ObjectB* b)
{
cout&laquo;&ldquo;Name B: &ldquo;&laquo;b-&gt;getName()&laquo;endl;
cout&laquo;&ldquo;ID B: &ldquo;&laquo;b-&gt;getId()&laquo;endl;
}
void visit(ObjectC* c)
{
cout&laquo;&ldquo;Name C: &ldquo;&laquo;c-&gt;getName()&laquo;endl;
cout&laquo;&ldquo;ID C: &ldquo;&laquo;c-&gt;getId()&laquo;endl;
}
};</p>
<p>int main()
{
cout&laquo;&ldquo;Visitor pattern test&rdquo;&laquo;endl;
ObjectA* A=new ObjectA();
ObjectB* B=new ObjectB();
ObjectC* C=new ObjectC();</p>
<pre><code>printVisitor* pv=new printVisitor();

A-&gt;accept(*pv);
B-&gt;accept(*pv);
C-&gt;accept(*pv);
system(&quot;pause&quot;);
</code></pre>
<p>}
[/sourcecode]</p>
<p>Output Program:</p>
<pre><code>Visitor Pattern test
Name A: defaultName
ID A: 0
Name B: defaultName
ID B: 0
Name C: defaultName
ID C: 0
Press any key to continue . . .
</code></pre>
<p>Objek A, B, C adalah objek yang visitable. Sedangkan printVisitor adalah konkret visitor. Ketika A-&gt;accept(*pv)  dipanggil , printVisitor dilewatkan melalui accept(*pv).</p>
<p>void ObjectA::accept(visitor&amp; v)
{
      v.visit(this);
}</p>
<p>Di dalam method accept, instan kelas dari A dilewatkan ke visitor v.visit(this) untuk diproses lebih lanjut.</p>
</section>

  
  

  
  
  
  
  <nav
    class="mt-24 flex overflow-hidden rounded-xl bg-black/[3%] text-lg !leading-[1.2] *:flex *:w-1/2 *:items-center *:p-5 *:font-medium *:no-underline dark:bg-white/[8%] [&>*:hover]:bg-black/[2%] dark:[&>*:hover]:bg-white/[3%]"
  >
    
    <a class="ltr:pr-3 rtl:pl-3" href="https://xedixermawan.github.io/2011/05/17/proximity-game-clone/"
      ><span class="ltr:mr-1.5 rtl:ml-1.5">←</span><span>Proximity Game Clone</span></a
    >
    
    
    <a class="ltr:ml-auto rtl:mr-auto justify-end pl-3" href="https://xedixermawan.github.io/2011/03/05/switching/"
      ><span>switching</span><span class="ltr:ml-1.5 rtl:mr-1.5">→</span></a
    >
    
  </nav>
  
  

  
  

  
  

  


  
</article>


    </main>

    <footer
  class="mx-auto flex h-[4.5rem] max-w-[--w] items-center px-8 text-xs uppercase tracking-wider opacity-60"
>
  <div class="mr-auto">
  
    © 2007-2024 XediXermawan
  
  </div>
  <a class="link mx-6" href="https://gohugo.io/" rel="noopener" target="_blank"
    >powered by hugo️️</a
  >️
  <a
    class="link"
    href="https://github.com/nanxiaobei/hugo-paper"
    rel="noopener"
    target="_blank"
    >hugo-paper</a
  >
</footer>

  </body>
</html>
